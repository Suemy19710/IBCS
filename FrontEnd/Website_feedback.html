<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title> Jugo - AI tool </title>
  <link rel="icon" href="J-icon.png">

  <style>
    :root{
      --bg:#ffffff;
      --accent:#ff8c00;
      --accent-2:#13196B;
      --muted:#555;
      --glass:rgba(0,0,0,0.05);
      --radius:14px;
      --max-width:1100px;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    }

    body{
      margin:0;
      background:#ffffff;
      color:#ff8c00;
    }

    a{color:var(--accent-2); text-decoration:none}
    img{display:block; max-width:100%}

    .container{
      max-width:var(--max-width);
      margin:0 auto;
      padding:30px 20px;
    }

    header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:8px 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:14px;
    }

    .logo img{
      width:180px;
      height:auto;
    }

    nav{
      display:flex;
      gap:14px;
      font-weight:600;
    }

    nav a{
      padding:8px 12px;
      border-radius:8px;
      color:#13196B;
    }

    nav a:hover{
      background:var(--glass);
    }

   .display-wrapper {
  display: flex;
  gap: 20px;
  margin-top: 30px;
  align-items: stretch; /* make columns equal height */
}

.image-box,
.text-box {
  flex: 1;
  border: 3px solid var(--accent-2);
  border-radius: 14px;
  display: flex;
  padding: 25px;
}

/* image box */
.image-box {
  background: var(--accent-2);
  justify-content: center;
  align-items: center;
}

.image-box img {
  max-width: 100%;
  max-height: 100%;
  border-radius: 10px;
  object-fit: contain;
}

/* text box */
.text-box {
  background: #ffffff;
  color: var(--accent-2);
  font-size: 20px;
  line-height: 1.6;
  flex-direction: column;   
  gap: 12px;               
  overflow-wrap: break-word; /* keep long text inside the box */
}

/* Mobile: stack vertically */
@media (max-width: 768px) {
  .display-wrapper {
    flex-direction: column;
  }
}

.back-button-wrapper {
  margin-top: 40px;
  display: flex;
  justify-content: center;
}

.back-home-btn {
  padding: 12px 24px;
  font-size: 18px;
  font-weight: 600;
  color: white;
  background: var(--accent-2);
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: 0.2s;
}

.back-home-btn:hover {
  background: var(--accent);
  transform: scale(1.05);
}

#textBox, .result-box, .feedback-box {
  line-height: 1.45;
  color: #13196B;
}

.fb-title {
  font-weight: 700;
  margin: 0 0 12px 0;
}

.fb-body {
  margin: 0;
  font-weight: 400;
}

.fb-readmore a {
  color: #3a77ff; /* soft light blue */
  font-weight: 600;
  text-decoration: none;
}

.fb-readmore a:hover {
  text-decoration: underline;
}

.feedback-box {
  padding: 20px 28px;
  overflow-wrap: break-word;
  flex-direction: column;
}
.good { border-left: 4px solid #4CAF50; padding-left:12px; }
.bad  { border-left: 4px solid #E53935; padding-left:12px; }


  </style>
</head>

<body>

<div class="container">
  
  <!-- Header -->
<header>
    <div class="brand">
        <a href="Website_homepage.html" class="logo">
            <img src="Logo_xmas.png" alt="Jugo logo">
        </a>
    </div>

    <nav>
      <a href="Website_homepage.html" class="confirm-leave">Home</a>
      <a href="Website_upload.html" class="confirm-leave">Tool</a>
      <a href="#">Result</a>
    </nav>

  </header>

  <!-- DISPLAY IMAGE AND TEXT SIDE BY SIDE -->
<h2>Uploaded Image</h2>
<div class="display-wrapper">
    <div class="image-box" id="imageContainer">
        <!-- Image will appear here -->
    </div>
    <div class="text-box"> Feedback for client </div>
</div>

<script>
// Load image from sessionStorage
const imgData = sessionStorage.getItem("uploadedImage");

if (imgData) {
    const imgContainer = document.getElementById('imageContainer');
    const img = document.createElement('img');
    img.src = imgData;
    img.alt = "Uploaded Image";
    imgContainer.appendChild(img);
} else {
    document.getElementById('imageContainer').textContent = "No image found.";
}

// Load model result from sessionStorage
const resultRaw = sessionStorage.getItem("modelResult");
const textBox = document.querySelector(".text-box");

if (resultRaw) {
    const result = JSON.parse(resultRaw);
    const fbHTML = Array.isArray(result.feedback)
        ? result.feedback.map(line => `<p>${line}</p>`).join("")
        : `<p>${result.feedback}</p>`;
    // if (result.label === "Compliant") {
    //     textBox.classList.add("good");
    // } else {
    //     textBox.classList.add("bad");
    // }
    textBox.innerHTML = `
        <div>
            <p><strong>Status:</strong> ${result.label}</p>
            <p><strong>Detected axis issues:</strong> ${result.rule}</p>
            <p><strong>Confidence:</strong> ${(result.confidence * 100).toFixed(1)}%</p>
            <h4>IBCS Feedback:</h4>
            ${fbHTML}
            <span class="fb-readmore">Read more: 
              <a href="https://www.ibcs.com/resource/top-and-bottom-5-of-international-business-communication-standards/" target="_blank">IBCS Resource</a>
            </span>
        </div>
    `;
} else {
      textBox.innerHTML = `
        <p>No model results found.</p>
    `;
  // textBox.innerHTML = `
  //   <p class="fb-title">The uploaded image is not compliant with the 'Starts at 0' rule.</p>

  //   <p class="fb-body">
  //     Make sure the scales in your charts are consistent. This means that the values are represented fairly, so people can compare numbers accurately. For example, bar and column charts should usually start at zero, unless thereâ€™s a good reason not to (and it's clearly labeled). If you show several charts together, make sure their scales match so viewers can easily compare them without being misled.<br><br>
  //     <span class="fb-readmore">Read more: 
  //       <a href="https://www.ibcs.com/resource/top-and-bottom-5-of-international-business-communication-standards/" target="_blank">IBCS Resource</a>
  //     </span>
  //   </p>
  // `;
}

</script>


<div class="back-button-wrapper">
    <button class="back-home-btn" onclick="window.location.href='Website_homepage.html'">
        Back to Homepage
    </button>
</div>

<script>
document.querySelectorAll(".confirm-leave").forEach(link => {
  link.addEventListener("click", function(e) {
    e.preventDefault(); // stop navigation first

    const target = this.href;

    const confirmLeave = confirm("Are you sure you want to leave the site? Your progress will be lost.");

    if (confirmLeave) {
      window.location.href = target;
    }
  });
});
</script>


</div>
</body>
</html>